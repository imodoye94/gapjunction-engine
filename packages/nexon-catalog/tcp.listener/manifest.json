{
  "id": "tcp.listener",
  "version": "1.0.0",
  "title": "TCP Listener",
  "description": "Listen for incoming TCP connections and data",
  "author": "GapJunction Team",
  "license": "MIT",
  "capabilities": {
    "network": {
      "tcpIn": true
    }
  },
  "parameters": {
    "port": {
      "type": "number",
      "title": "Port",
      "description": "The port number to listen on",
      "required": true,
      "validation": {
        "min": 1,
        "max": 65535
      },
      "ui": {
        "widget": "number",
        "placeholder": "8080"
      }
    },
    "host": {
      "type": "string",
      "title": "Host",
      "description": "The host address to bind to",
      "required": false,
      "default": "localhost",
      "ui": {
        "widget": "text",
        "placeholder": "localhost or 0.0.0.0"
      }
    },
    "datamode": {
      "type": "string",
      "title": "Data Mode",
      "description": "How to handle incoming data",
      "required": false,
      "default": "stream",
      "validation": {
        "enum": ["stream", "single", "base64"]
      },
      "ui": {
        "widget": "select"
      }
    },
    "newline": {
      "type": "string",
      "title": "Split Input",
      "description": "Character to split input on",
      "required": false,
      "ui": {
        "widget": "text",
        "placeholder": "\\n for newline"
      }
    },
    "base64": {
      "type": "boolean",
      "title": "Base64 Decode",
      "description": "Decode base64 encoded data",
      "required": false,
      "default": false,
      "ui": {
        "widget": "checkbox"
      }
    },
    "server": {
      "type": "string",
      "title": "Server Type",
      "description": "Type of TCP server",
      "required": false,
      "default": "server",
      "validation": {
        "enum": ["server", "reply"]
      },
      "ui": {
        "widget": "select"
      }
    }
  },
  "continuation": {
    "outlets": {
      "data": {
        "title": "Data Output",
        "description": "Emits received TCP data",
        "required": true
      },
      "connection": {
        "title": "Connection Events",
        "description": "Emits connection status events",
        "required": false
      }
    }
  },
  "compatibility": {
    "minCompilerVersion": "1.0.0",
    "nodeRedVersion": "3.0.0",
    "dependencies": {
      "node-red-node-tcp": "^1.3.0"
    }
  }
}